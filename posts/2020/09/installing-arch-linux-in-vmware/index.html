<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Installing Arch Linux in VMware Workstation Player · Jared Monger
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Jared Monger">
<meta name="description" content="During this time when we are all isolated in our homes because of COVID-19, I have tried to make the most of it and learn some new skills. Something I&rsquo;ve wanted to get better at is Linux. I learn best by diving into the deep end of the pool, so I decided to install Arch Linux in VMware Workstation Player as a learning experience. This blog post is to document the process for future reference.">
<meta name="keywords" content="blog,developer,personal">

<meta name="twitter:card" content="summary"><meta name="twitter:title" content="Installing Arch Linux in VMware Workstation Player">
<meta name="twitter:description" content="During this time when we are all isolated in our homes because of COVID-19, I have tried to make the most of it and learn some new skills. Something I&rsquo;ve wanted to get better at is Linux. I learn best by diving into the deep end of the pool, so I decided to install Arch Linux in VMware Workstation Player as a learning experience. This blog post is to document the process for future reference.">

<meta property="og:url" content="https://www.jmonger.com/posts/2020/09/installing-arch-linux-in-vmware/">
  <meta property="og:site_name" content="Jared Monger">
  <meta property="og:title" content="Installing Arch Linux in VMware Workstation Player">
  <meta property="og:description" content="During this time when we are all isolated in our homes because of COVID-19, I have tried to make the most of it and learn some new skills. Something I’ve wanted to get better at is Linux. I learn best by diving into the deep end of the pool, so I decided to install Arch Linux in VMware Workstation Player as a learning experience. This blog post is to document the process for future reference.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-09-03T09:05:00-06:00">
    <meta property="article:modified_time" content="2020-09-03T09:05:00-06:00">
    <meta property="article:tag" content="Tech">




<link rel="canonical" href="https://www.jmonger.com/posts/2020/09/installing-arch-linux-in-vmware/">


<link rel="preload" href="https://www.jmonger.com/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://www.jmonger.com/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://www.jmonger.com/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="https://www.jmonger.com/css/coder.min.38c4552ac40f9ae3408bad40358f654ebd8804412fe74ed56f2d6c8a7af82dd3.css" integrity="sha256-OMRVKsQPmuNAi61ANY9lTr2IBEEv507Vby1sinr4LdM=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="https://www.jmonger.com/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="https://www.jmonger.com/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="https://www.jmonger.com/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://www.jmonger.com/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="https://www.jmonger.com/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://www.jmonger.com/images/apple-touch-icon.png">

<link rel="manifest" href="https://www.jmonger.com/site.webmanifest">
<link rel="mask-icon" href="https://www.jmonger.com/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://www.jmonger.com/">
      Jared Monger
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://www.jmonger.com/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://www.jmonger.com/resume/">Resume</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://www.jmonger.com/contact/">Contact</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://www.jmonger.com/posts/2020/09/installing-arch-linux-in-vmware/">
              Installing Arch Linux in VMware Workstation Player
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-09-03T09:05:00-06:00">
                September 3, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              5-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="https://www.jmonger.com/tags/tech/">Tech</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>During this time when we are all isolated in our homes because of COVID-19, I have tried to make the most of it and learn some new skills. Something I&rsquo;ve wanted to get better at is Linux. I learn best by diving into the deep end of the pool, so I decided to install <a href="https://www.archlinux.org/"  class="external-link" target="_blank" rel="noopener">Arch Linux</a> in <a href="https://www.vmware.com/products/workstation-player.html"  class="external-link" target="_blank" rel="noopener">VMware Workstation Player</a> as a learning experience. This blog post is to document the process for future reference. The <a href="https://wiki.archlinux.org/index.php/Installation_guide"  class="external-link" target="_blank" rel="noopener">installation guide</a> on the <a href="https://wiki.archlinux.org/"  class="external-link" target="_blank" rel="noopener">Arch Wiki</a> was very helpful as well, so I&rsquo;d be remiss if I didn&rsquo;t include a link. Here goes nothing&hellip;</p>
<p>First thing is to create the virtual machine in VMware. I created a 50 GB virtual hard drive, and added this next to the bottom of the *.vmx file so the machine would boot with EFI.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>firmware = &#34;efi&#34;
</span></span></code></pre></div><p>Next <a href="https://www.archlinux.org/download/"  class="external-link" target="_blank" rel="noopener">download</a> the latest version of Arch and boot from the ISO. You should end up at a command line.</p>
<p>Verify there are results when you run the commands below. I did my install on a host machine with a wired connection. If you are performing a bare metal install on a laptop with Wi-Fi only, additional steps are required. Refer to the Arch install guide.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#007f7f"># ls /sys/firmware/efi/efivars</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># ping google.com</span>
</span></span></code></pre></div><p>If EFI is working and you have a network connection, let&rsquo;s move forward. Next we&rsquo;ll set the date and time&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># timedatectl set-ntp true
</span></span></code></pre></div><p>Now we&rsquo;ll partition the disk with <em>cfdisk</em>. Run <em>lsblk</em> to determine your particular drive path first. Mine happened to be <em>/dev/sda</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># cfdisk /dev/sda
</span></span></code></pre></div><p>I allocated 512MB to /mnt/boot, 8GB to the swap, everything else to root. Next we&rsquo;ll format the drive.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># mkfs.vfat -F32 /dev/sda1
</span></span><span style="display:flex;"><span># mkswap /dev/sda2
</span></span><span style="display:flex;"><span># swapon /dev/sda2
</span></span><span style="display:flex;"><span># mkfs.ext4 /dev/sda3
</span></span></code></pre></div><p>Now we&rsquo;ll create the boot and home directories, as well as mount the partitions&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># mkdir /mnt/boot
</span></span><span style="display:flex;"><span># mkdir /mnt/home
</span></span><span style="display:flex;"><span># mount /dev/sda1 /mnt/boot
</span></span><span style="display:flex;"><span># mount /dev/sda3 /mnt
</span></span></code></pre></div><p>Before going forward let&rsquo;s check our work by running <em>lsblk</em>. Once you are happy with the drive move forward.</p>
<p>Now we&rsquo;ll recreate the <em>mirrorlist</em> file based on download speed. This will rate and sort the 10 most recently synchronized mirrors by download speed, then overwrite <em>/etc/pacman.d/mirrorlist</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># reflector --verbose --latest 10 --sort rate --save /etc/pacman.d/mirrorlist
</span></span></code></pre></div><p>Now the moment of truth. Let&rsquo;s install Arch.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># pacstrap /mnt base linux linux-firmware
</span></span></code></pre></div><p>Next we&rsquo;ll generate and examine the file system.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># genfstab /mnt &gt;&gt; /mnt/etc/fstab
</span></span><span style="display:flex;"><span># nano /mnt/etc/fstab
</span></span></code></pre></div><p>Arch is now installed on the hard drive. Let&rsquo;s login to the new system, and install some packages. I&rsquo;ve included a couple text editors, networking, sudo, git, grub bootloader, and the linux-lts kernel. Using this kernel will (hopefully) increase system stability down the road.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># arch-chroot /mnt
</span></span><span style="display:flex;"><span># pacman -S dhcpcd efibootmgr git grub linux-lts nano sudo vi
</span></span></code></pre></div><p>Set the time zone. I happen to be on US Central time.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># ln -sf /usr/share/zoneinfo/America/Chicago /etc/localtime
</span></span><span style="display:flex;"><span># hwclock --systohc
</span></span></code></pre></div><p>Now we&rsquo;ll generate the locale, and uncomment <em>en_US.UTF-8 UTF-8</em> in <em>locale.gen</em>, and configure the hostname. Mine is <em>archVM</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># locale-gen
</span></span><span style="display:flex;"><span># nano /etc/locale.gen # Uncomment en_US.UTF-8 UTF-8
</span></span><span style="display:flex;"><span># echo &#34;LANG=en_US.UTF-8&#34; &gt;&gt; /etc/locale.conf
</span></span><span style="display:flex;"><span># echo &#34;archVM&#34; &gt;&gt; /etc/hostname
</span></span></code></pre></div><p>Next is setting up the hosts file.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># nano /etc/hosts
</span></span></code></pre></div><p>Add the following text and save.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>127.0.0.1	localhost
</span></span><span style="display:flex;"><span>::1		localhost
</span></span><span style="display:flex;"><span>127.0.1.1	archVM.localdomain	archVM
</span></span></code></pre></div><p>Now we&rsquo;ll set the root account password.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># passwd
</span></span></code></pre></div><p>Install the grub bootloader.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#007f7f"># grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># grub-mkconfig -o /boot/grub/grub.cfg</span>
</span></span></code></pre></div><p>&hellip;And enable networking</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># systemctl enable dhcpcd.service
</span></span></code></pre></div><p>After all that&rsquo;s done, let&rsquo;s unmount the hard disk, reboot, and cross our fingers. Be sure to unmount the installation ISO at the point.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># exit
</span></span><span style="display:flex;"><span># umount -R /mnt
</span></span><span style="display:flex;"><span># reboot
</span></span></code></pre></div><p>Once the system reboots, you should have a login prompt. Congrats! You&rsquo;ve installed Arch. Everything else from this point forward is icing on the cake.</p>
<p>I happen to like the <a href="https://kde.org/plasma-desktop"  class="external-link" target="_blank" rel="noopener">KDE Plasma</a> desktop environment and <a href="https://github.com/Jguer/yay"  class="external-link" target="_blank" rel="noopener">yay</a> AUR helper. The next steps can be used to get those running, as well as installing VMware&rsquo;s guest tools.</p>
<p>First let&rsquo;s update Arch and create a non-root user account.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># pacman -Syu
</span></span><span style="display:flex;"><span># useradd -m [username]
</span></span><span style="display:flex;"><span># passwd [username]
</span></span><span style="display:flex;"><span># visudo #Uncomment relevant lines to allow all users to run sudo. Save and quit.
</span></span></code></pre></div><p>Now we&rsquo;ll install xorg and our desktop environment, as well as enable the login screen and network manager. This will take awhile depending on your network speed&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># pacman -S xorg
</span></span><span style="display:flex;"><span># pacman -S plasma-meta kde-applications
</span></span><span style="display:flex;"><span># systemctl enable sddm.service
</span></span><span style="display:flex;"><span># systemctl enable NetworkManager.service
</span></span></code></pre></div><p>Now let&rsquo;s install VMware guest tools as well as some drivers that will help us out. After that finishes issue the <em>reboot</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#007f7f"># pacman -S open-vm-tools</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># pacman -S xf86-input-vmmouse xf86-video-vmware mesa gtk2 gtkmm</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># systemctl enable vmtoolsd.service</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># systemctl enable vmware-vmblock-fuse.service</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># reboot</span>
</span></span></code></pre></div><p>You should now see a login screen for KDE Plasma. It&rsquo;s starting the feel more like a finished system. Let&rsquo;s login with as the newly created non-root user.</p>
<p>Open up Konsole or whatever terminal you like, now let&rsquo;s install yay. If you don&rsquo;t intend to use the <a href="https://aur.archlinux.org/"  class="external-link" target="_blank" rel="noopener">AUR</a>, you can stop here.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ cd /opt
</span></span><span style="display:flex;"><span>$ git clone https://aur.archlinux.org/yay.git
</span></span><span style="display:flex;"><span>$ sudo chown -R [username]:[username] yay
</span></span><span style="display:flex;"><span>$ cd yay
</span></span><span style="display:flex;"><span>$ makepkg -si
</span></span></code></pre></div><p>Now you can update your entire system just by opening a terminal and issuing the <em>yay</em> command. That feels pretty good!</p>
<p>I hope this little guide was helpful. I certainly learned a lot in the process, and am glad to have completed the exercise.</p>

      </div>


      <footer>
        


        
        
        
        
        

        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
      2007 -
    
    2024
     Jared Monger 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="https://www.jmonger.com/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  
  



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
